/* popup.css */
/* Styles for the popup UI, aiming for functional consistency with styles.css */

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
}

body {
  /* Use main card background for consistency */
  background-color: var(--main-card);
  margin: 0;
  /* font-family is inherited from styles.css */
  font-size: 1em;
  color: var(--main-text);
  line-height: 1.5;
  min-width: 300px;
  /* Slightly reduced min-width for flexibility */
  overflow: hidden;
  /* Prevent body scrollbars */
}

.container {
  background-color: var(--main-card);
  /* Use standard border-radius if defined, or keep moderate rounding */
  border-radius: 6px;
  /* Reduced radius for a less stylized look */
  /* Use standard container shadow if defined */
  box-shadow: var(--main-shadow-container, 0 8px 8px rgba(0, 0, 0, 0.08));
  /* Using fallback */
  /* Adjust padding for a slightly more compact feel */
  padding: 12px 12px 12px 12px;
  margin: 2px auto 0 auto;
  /* Reduced top margin */
  border: none;
  box-sizing: border-box;
  overflow-y: auto;
  scrollbar-width: none;
  /* Firefox */
}

.container::-webkit-scrollbar {
  display: none;
  /* Chrome/Safari/Edge */
}

/* List Styling (using semantic ul/li) */
#subscriptionsUl {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Style for individual list items */
#subscriptionsUl li {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 0;
  /* Use main border color, dashed for separation */
  transition: background-color var(--transition);
}

/* Style for the label/name within a list item */
#subscriptionsUl li .list-item-label {
  flex-grow: 1;
  font-weight: 500;
  /* Keep slightly bold for readability */
  color: var(--main-text);
  font-size: 1em;
  /* Standard font size */
}

/* Highlight for the current device (Subtle) */
#subscriptionsUl li.this-device {
  /* font-weight: bold; is inherited from styles.css */
  /* Optional: Add a very subtle background or rely solely on bold text */
  background-color: var(--main-blue-light);
  /* Removed distinct background */
  padding-left: 7px;
  /* Removed indent */
  margin-left: -7px;
  /* Removed indent */
  border-radius: 4px;
  /* Removed radius */
}

/* No dark theme override needed if background is removed */
/* [data-theme="dark"] #subscriptionsUl li.this-device { ... } */
/* Add styles for the toggle details button */
#toggleDetailsBtn {
  /* Override default button padding/font-size */
  padding: 2px 6px;
  /* Smaller padding */
  font-size: 1.1em;
  /* Adjust font size for the ellipsis */
  line-height: 1;
  /* Ensure tight line height */
  /* Optionally override background/border if needed */
  background: none;
  border: none;
  color: var(--main-text);
  /* Use theme text color */
  cursor: pointer;
  /* Position it if necessary, e.g., absolute positioning */
  position: absolute;
  top: 10px;
  /* Adjust as needed */
  right: 10px;
  /* Adjust as needed */
  box-shadow: none;
  /* Remove button shadow */
  opacity: 0.7;
  /* Make it slightly less prominent */
  transition: opacity var(--transition);
}

#toggleDetailsBtn:hover {
  opacity: 1;
  background: none;
  /* Ensure no background on hover */
  transform: none;
  /* Prevent base button hover transform */
}

/* Adjust container padding if toggle button is absolutely positioned */
.container {
  /* ... other container styles ... */
  position: relative;
  /* Needed for absolute positioning of children */
  padding-right: 35px;
  /* Add padding to prevent content overlap with button */
  /* ... */
}


/* Action buttons within the popup (e.g., Send Group) */
/* Use base button styles for consistency */
.popup-action-btn {
  /* Inherit most styles from base 'button' in styles.css */
  /* Apply specific padding suitable for list items */
  padding: 6px 16px;
  font-size: 0.95em;
  /* Slightly smaller if needed */
  /* Ensure it uses primary button colors */
  background-color: var(--main-button-primary-bg);
  color: var(--main-button-text);
  /* Inherits hover/disabled states from base button */
  /* Ensure shadow matches base button shadow */
  box-shadow: var(--main-shadow-button-primary, 0 1px 2px rgba(255, 148, 0, 0.09));
  /* Using fallback */
}

/* No need for separate :disabled or :hover styles if they match the base button */

/* Status Message Styling (Using base classes) */
.status-message {
  font-size: 0.95em;
  /* Consistent with other secondary text */
  margin-top: 10px;
  padding: 4px 0;
  text-align: left;
  animation: fadein var(--transition);
  display: block;
  /* Color is determined by adding .success or .error class from styles.css */
}

/* Links at the bottom (Options, Refresh) */
/* .options-link,
.refresh-link {
  margin-top: 15px;
  /* Consistent margin */
/*  text-align: center;
} */
/* Style the links in the popup footer */
.options-link .refresh-link { /* Target links specifically within the footer */
  margin-top: 15px;
  font-size: 2em;  /* Increase font size (adjust value as needed) */
  padding: 5px;      /* Add some padding for easier clicking */
  line-height: 1;    /* Adjust line height if necessary */
  text-decoration: none; /* Ensure no underline */
  color: var(--main-accent); /* Use accent color from theme */
  opacity: 0.8;
  transition: opacity var(--transition), color var(--transition);
}

.options-link .refresh-link:hover {
  opacity: 1;
  color: var(--main-orange-dark); /* Use darker accent for hover */
  text-decoration: none; /* Ensure no underline on hover */
}

/* Ensure the footer itself has enough space
.popup-footer {
  display: flex; /* Use flexbox for alignment */
 /* justify-content: center; /* Center icons horizontally */
/*  gap: 15px; /* Add space between icons */
/*  margin-top: 15px; /* Consistent margin */
/*  padding-top: 10px; /* Add some space above the icons */
/*  border-top: 1px solid var(--main-border); /* Optional: Add a subtle separator */
/*} */

/* General link style within the popup container
.container a {
  /* Use main accent color for links */
  /* color: var(--main-accent);
  text-decoration: none;
  font-weight: 500;
  transition: color var(--transition);
}

.container a:hover {
  text-decoration: underline;
  /* Use darker accent for hover */
/*   color: var(--main-orange-dark);
} */

/* Adjust dark theme link hover if needed */
[data-theme="dark"] .container a:hover {
  color: var(--main-orange-light);
  /* Lighter orange for dark theme hover */
}


/* Fade-in Animation */
@keyframes fadein {
  from {
    opacity: 0;
    transform: translateY(8px);
  }

  to {
    opacity: 1;
    transform: none;
  }
}

/* --- Responsive Adjustments --- */

@media (max-width: 480px) {
  body {
    font-size: 0.98em;
    min-width: 280px;
    /* Allow shrinking */
  }

  .container {
    padding: 15px 10px;
    /* Adjust padding */
    margin-top: 5px;
    /* Reduce top margin further */
    max-width: 98vw;
    /* Allow near full width */
  }

  h2 {
    font-size: 1.05em;
    /* Adjust heading */
    margin-bottom: 12px;
  }

  .popup-action-btn {
    /* Ensure touch target size */
    padding: 7px 15px;
    /* Slightly larger padding vertically */
    font-size: 1em;
    /* Ensure readable text */
  }

  #subscriptionsUl li {
    padding: 10px 0;
    /* Maintain vertical padding */
    gap: 8px;
    /* Slightly reduce gap */
  }
}